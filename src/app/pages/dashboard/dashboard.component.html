<!-- dashboard.component.html -->
<div class="container-fluid min-vh-100 bg-light">
    <div class="row justify-content-center align-items-center min-vh-100">
      <div class="col-12 col-lg-10" style="min-width: 1024px; min-height: 640px;">
        <div class="card shadow-lg">
          <!-- Cabecera -->
          <div class="card-header bg-primary text-white">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h2 class="mb-0">
                  <i class="bi bi-bank me-2"></i>ATM Banco Fácil
                </h2>
                <small class="d-block mt-1">Usuario: {{ user?.username }} | Cuenta: #{{ account?.number }}</small>
              </div>
              <button class="btn btn-light" (click)="logout()">
                <i class="bi bi-box-arrow-left me-1"></i>Salir
              </button>
            </div>
          </div>
  
          <div class="card-body py-4">
            <!-- Sección de Saldo -->
            <div class="row mb-4">
              <div class="col-12">
                <div class="card border-primary">
                  <div class="card-header bg-primary text-white">
                    <i class="bi bi-wallet2 me-2"></i>Saldo Disponible
                  </div>
                  <div class="card-body text-center py-4">
                    <h1 class="display-4 text-primary">
                      $ {{ account?.balance | number:'1.2-2' }}
                    </h1>
                    <small class="text-muted">Actualizado al {{ currentDate | date:'dd/MM/yyyy HH:mm' }}</small>
                  </div>
                </div>
              </div>
            </div>
  
            <!-- Operaciones principales -->
            <div class="row g-4">
              <!-- Retiro rápido -->
              <div class="col-md-6">
                <div class="card h-100">
                  <div class="card-header bg-success text-white">
                    <i class="bi bi-cash-coin me-2"></i>Retiro Rápido
                  </div>
                  <div class="card-body">
                    <div class="d-grid gap-3">
                      <button *ngFor="let amount of quickAmounts" 
                              class="btn btn-outline-success btn-lg"
                              (click)="withdraw(amount)">
                        ${{ amount | number }}
                      </button>
                      <button class="btn btn-success btn-lg" 
                              data-bs-toggle="modal" 
                              data-bs-target="#customAmountModal">
                        <i class="bi bi-pen me-2"></i>Otro monto
                      </button>
                    </div>
                  </div>
                </div>
              </div>
  
              <!-- Otras operaciones -->
              <div class="col-md-6">
                <div class="card h-100">
                  <div class="card-header bg-info text-white">
                    <i class="bi bi-list-check me-2"></i>Otras Operaciones
                  </div>
                  <div class="card-body">
                    <div class="d-grid gap-3">
                      <button class="btn btn-outline-primary btn-lg">
                        <i class="bi bi-clock-history me-2"></i>Últimos movimientos
                      </button>
                      <button class="btn btn-outline-warning btn-lg">
                        <i class="bi bi-arrow-left-right me-2"></i>Transferencias
                      </button>
                      <button class="btn btn-outline-danger btn-lg">
                        <i class="bi bi-gear me-2"></i>Cambiar PIN
                      </button>
                      <button class="btn btn-outline-secondary btn-lg">
                        <i class="bi bi-printer me-2"></i>Comprobante
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal para monto personalizado -->
  <div class="modal fade" id="customAmountModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Retiro Personalizado</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input type="number" 
                 class="form-control form-control-lg" 
                 [(ngModel)]="customAmount"
                 placeholder="Ingrese monto">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" 
                  class="btn btn-success" 
                  (click)="withdrawCustom()"
                  data-bs-dismiss="modal">
            Retirar
          </button>
        </div>
      </div>
    </div>
  </div>